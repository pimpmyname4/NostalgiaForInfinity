ARG sourceimage=freqtradeorg/freqtrade
ARG sourcetag=stable
FROM ${sourceimage}:${sourcetag}

USER root

# Install pip first so it's cached separately (and rarely changes)
RUN pip install --upgrade pip

# Copy requirements â€” cache will invalidate only if the file changes
COPY --chown=1000:1000 tests/requirements.txt /freqtrade/

# Install dependencies, with cache enabled by default
RUN pip install --no-build-isolation -r /freqtrade/requirements.txt
